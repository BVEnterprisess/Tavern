/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={28:e=>{e.exports=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`},39:e=>{e.exports=async(e,t)=>{e.postMessage(t)}},119:e=>{e.exports={langPath:"https://tessdata.projectnaptha.com/4.0.0",workerBlobURL:!0,logger:()=>{}}},125:e=>{"use strict";e.exports=JSON.parse('{"name":"tesseract.js","version":"4.1.4","description":"Pure Javascript Multilingual OCR","main":"src/index.js","types":"src/index.d.ts","unpkg":"dist/tesseract.min.js","jsdelivr":"dist/tesseract.min.js","scripts":{"start":"node scripts/server.js","build":"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.mjs","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json","prepublishOnly":"npm run build","wait":"rimraf dist && wait-on http://localhost:3000/dist/tesseract.dev.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html","lint":"eslint src","lint:fix":"eslint --fix src","postinstall":"opencollective-postinstall || true"},"browser":{"./src/worker/node/index.js":"./src/worker/browser/index.js"},"author":"","contributors":["jeromewu"],"license":"Apache-2.0","devDependencies":{"@babel/core":"^7.21.4","@babel/eslint-parser":"^7.21.3","@babel/preset-env":"^7.21.4","@rollup/plugin-commonjs":"^24.1.0","acorn":"^8.8.2","babel-loader":"^9.1.2","buffer":"^6.0.3","cors":"^2.8.5","eslint":"^7.32.0","eslint-config-airbnb-base":"^14.2.1","eslint-plugin-import":"^2.27.5","expect.js":"^0.3.1","express":"^4.18.2","mocha":"^10.2.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5","nyc":"^15.1.0","rimraf":"^5.0.0","rollup":"^3.20.7","wait-on":"^7.0.1","webpack":"^5.79.0","webpack-bundle-analyzer":"^4.8.0","webpack-cli":"^5.0.1","webpack-dev-middleware":"^6.0.2","rollup-plugin-sourcemaps":"^0.6.3"},"dependencies":{"bmp-js":"^0.1.0","idb-keyval":"^6.2.0","is-electron":"^2.2.2","is-url":"^1.2.4","node-fetch":"^2.6.9","opencollective-postinstall":"^2.0.3","regenerator-runtime":"^0.13.3","tesseract.js-core":"^4.0.4","wasm-feature-detect":"^1.2.11","zlibjs":"^0.3.1"},"overrides":{"@rollup/pluginutils":"^5.0.2"},"repository":{"type":"git","url":"https://github.com/naptha/tesseract.js.git"},"bugs":{"url":"https://github.com/naptha/tesseract.js/issues"},"homepage":"https://github.com/naptha/tesseract.js","collective":{"type":"opencollective","url":"https://opencollective.com/tesseractjs"}}')},321:(e,t,n)=>{const r=n(848),o=n(456),i=n(548),a=n(381),s=n(39),c=n(996);e.exports={defaultOptions:r,spawnWorker:o,terminateWorker:i,onMessage:a,send:s,loadImage:c}},381:e=>{e.exports=(e,t)=>{e.onmessage=({data:e})=>{t(e)}}},452:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),s=new B(r||[]);return o(a,"_invoke",{value:I(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p="suspendedStart",f="suspendedYield",m="executing",y="completed",h={};function v(){}function g(){}function b(){}var w={};l(w,a,function(){return this});var k=Object.getPrototypeOf,S=k&&k(k(R([])));S&&S!==n&&r.call(S,a)&&(w=S);var E=b.prototype=v.prototype=Object.create(w);function L(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function C(e,t){function n(o,i,a,s){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&r.call(u,"__await")?t.resolve(u.__await).then(function(e){n("next",e,a,s)},function(e){n("throw",e,a,s)}):t.resolve(u).then(function(e){l.value=e,a(l)},function(e){return n("throw",e,a,s)})}s(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t(function(t,o){n(e,r,t,o)})}return i=i?i.then(o,o):o()}})}function I(e,t,n){var r=p;return function(o,i){if(r===m)throw new Error("Generator is already running");if(r===y){if("throw"===o)throw i;return D()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=m;var c=d(e,t,n);if("normal"===c.type){if(r=n.done?y:f,c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=y,n.method="throw",n.arg=c.arg)}}}function x(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=d(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function B(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function R(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:D}}function D(){return{value:t,done:!0}}return g.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},L(C.prototype),l(C.prototype,s,function(){return this}),e.AsyncIterator=C,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new C(u(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},L(E),l(E,c,"Generator"),l(E,a,function(){return this}),l(E,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=R,B.prototype={constructor:B,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},456:e=>{e.exports=({workerPath:e,workerBlobURL:t})=>{let n;if(Blob&&URL&&t){const t=new Blob([`importScripts("${e}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(t))}else n=new Worker(e);return n}},465:(e,t,n)=>{const r=n(477);e.exports={recognize:async(e,t,n)=>{const o=await r(n);return await o.loadLanguage(t),await o.initialize(t),o.recognize(e).finally(async()=>{await o.terminate()})},detect:async(e,t)=>{const n=await r(t);return await n.loadLanguage("osd"),await n.initialize("osd"),n.detect(e).finally(async()=>{await n.terminate()})}}},477:(e,t,n)=>{const r=n(981),o=n(760),i=n(500),{log:a}=n(787),s=n(28),{defaultOEM:c}=n(711),{defaultOptions:l,spawnWorker:u,terminateWorker:d,onMessage:p,loadImage:f,send:m}=n(321);let y=0;e.exports=async(e={})=>{const t=s("Worker",y),{logger:n,errorHandler:h,...v}=r({...l,...e}),g={},b={};let w,k;const S=new Promise((e,t)=>{k=e,w=t});let E=u(v);E.onerror=e=>{w(e.message)},y+=1;const L=(e,t)=>{g[e]=t},C=(e,t)=>{b[e]=t},I=({id:e,action:n,payload:r})=>new Promise((o,i)=>{a(`[${t}]: Start ${e}, action=${n}`),L(n,o),C(n,i),m(E,{workerId:t,jobId:e,action:n,payload:r})});p(E,({workerId:e,jobId:t,status:r,action:i,data:s})=>{if("resolve"===r){a(`[${e}]: Complete ${t}`);let n=s;"recognize"===i?n=o(s):"getPDF"===i&&(n=Array.from({...s,length:Object.keys(s).length})),g[i]({jobId:t,data:n})}else if("reject"===r){if(b[i](s),"load"===i&&w(s),!h)throw Error(s);h(s)}else"progress"===r&&n({...s,userJobId:t})});const x={id:t,worker:E,setResolve:L,setReject:C,load:()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),writeText:(e,t,n)=>I(i({id:n,action:"FS",payload:{method:"writeFile",args:[e,t]}})),readText:(e,t)=>I(i({id:t,action:"FS",payload:{method:"readFile",args:[e,{encoding:"utf8"}]}})),removeFile:(e,t)=>I(i({id:t,action:"FS",payload:{method:"unlink",args:[e]}})),FS:(e,t,n)=>I(i({id:n,action:"FS",payload:{method:e,args:t}})),loadLanguage:(e="eng",t)=>I(i({id:t,action:"loadLanguage",payload:{langs:e,options:v}})),initialize:(e="eng",t=c,n,r)=>I(i({id:r,action:"initialize",payload:{langs:e,oem:t,config:n}})),setParameters:(e={},t)=>I(i({id:t,action:"setParameters",payload:{params:e}})),recognize:async(e,t={},n={blocks:!0,text:!0,hocr:!0,tsv:!0},r)=>I(i({id:r,action:"recognize",payload:{image:await f(e),options:t,output:n}})),getPDF:(e="Tesseract OCR Result",t=!1,n)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),I(i({id:n,action:"getPDF",payload:{title:e,textonly:t}}))),detect:async(e,t)=>I(i({id:t,action:"detect",payload:{image:await f(e)}})),terminate:async()=>(null!==E&&(d(E),E=null),Promise.resolve())};return I(i({id:undefined,action:"load",payload:{options:v}})).then(()=>k(x)).catch(()=>{}),S}},500:(e,t,n)=>{const r=n(28);let o=0;e.exports=({id:e,action:t,payload:n={}})=>{let i=e;return void 0===i&&(i=r("Job",o),o+=1),{id:i,action:t,payload:n}}},548:e=>{e.exports=e=>{e.terminate()}},646:e=>{e.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}},711:(e,t,n)=>{const r=n(742);e.exports={defaultOEM:r.DEFAULT}},742:e=>{e.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},760:e=>{e.exports=e=>{const t=[],n=[],r=[],o=[],i=[];return e.blocks&&e.blocks.forEach(a=>{a.paragraphs.forEach(t=>{t.lines.forEach(n=>{n.words.forEach(r=>{r.symbols.forEach(o=>{i.push({...o,page:e,block:a,paragraph:t,line:n,word:r})}),o.push({...r,page:e,block:a,paragraph:t,line:n})}),r.push({...n,page:e,block:a,paragraph:t})}),n.push({...t,page:e,block:a})}),t.push({...a,page:e})}),{...e,blocks:t,paragraphs:n,lines:r,words:o,symbols:i}}},787:function(e,t){let n=!1;t.logging=n,t.setLogging=e=>{n=e},t.log=(...e)=>n?console.log.apply(this,e):null},820:(e,t,n)=>{const r=n(866);e.exports=e=>{const t={};return"undefined"!=typeof WorkerGlobalScope?t.type="webworker":r()?t.type="electron":"object"==typeof document?t.type="browser":"object"==typeof process&&(t.type="node"),void 0===e?t:t[e]}},848:(e,t,n)=>{const{version:r}=n(125),o=n(119);var i;e.exports={...o,workerPath:"undefined"!=typeof process&&"development"===process.env.TESS_ENV?(i=`/dist/worker.dev.js?nocache=${Math.random().toString(36).slice(3)}`,new URL(i,window.location.href).href):`https://cdn.jsdelivr.net/npm/tesseract.js@v${r}/dist/worker.min.js`,corePath:null}},866:e=>{e.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}},882:function(e,t,n){const r=n(500),{log:o}=n(787),i=n(28);let a=0;e.exports=()=>{const e=i("Scheduler",a),t={},n={};let s=[];a+=1;const c=()=>Object.keys(t).length,l=()=>{if(0!==s.length){const e=Object.keys(t);for(let r=0;r<e.length;r+=1)if(void 0===n[e[r]]){s[0](t[e[r]]);break}}},u=(t,i)=>new Promise((a,c)=>{const u=r({action:t,payload:i});s.push(async e=>{s.shift(),n[e.id]=u;try{a(await e[t].apply(this,[...i,u.id]))}catch(e){c(e)}finally{delete n[e.id],l()}}),o(`[${e}]: Add ${u.id} to JobQueue`),o(`[${e}]: JobQueue length=${s.length}`),l()});return{addWorker:n=>(t[n.id]=n,o(`[${e}]: Add ${n.id}`),o(`[${e}]: Number of workers=${c()}`),l(),n.id),addJob:async(t,...n)=>{if(0===c())throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return u(t,n)},terminate:async()=>{Object.keys(t).forEach(async e=>{await t[e].terminate()}),s=[]},getQueueLen:()=>s.length,getNumWorkers:c}}},949:e=>{e.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}},981:(e,t,n)=>{const r="browser"===n(820)("type")?e=>new URL(e,window.location.href).href:e=>e;e.exports=e=>{const t={...e};return["corePath","workerPath","langPath"].forEach(n=>{e[n]&&(t[n]=r(t[n]))}),t}},995:(e,t,n)=>{n(452);const r=n(882),o=n(477),i=n(465),a=n(646),s=n(742),c=n(949),{setLogging:l}=n(787);e.exports={languages:a,OEM:s,PSM:c,createScheduler:r,createWorker:o,setLogging:l,...i}},996:e=>{const t=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{t(r.result)},r.onerror=({target:{error:{code:e}}})=>{n(Error(`File could not be read! Code=${e}`))},r.readAsArrayBuffer(e)}),n=async e=>{let r=e;if(void 0===e)return"undefined";if("string"==typeof e)if(/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e))r=atob(e.split(",")[1]).split("").map(e=>e.charCodeAt(0));else{const t=await fetch(e);r=await t.arrayBuffer()}else if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)"IMG"===e.tagName&&(r=await n(e.src)),"VIDEO"===e.tagName&&(r=await n(e.poster)),"CANVAS"===e.tagName&&await new Promise(n=>{e.toBlob(async e=>{r=await t(e),n()})});else if("undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas){const n=await e.convertToBlob();r=await t(n)}else(e instanceof File||e instanceof Blob)&&(r=await t(e));return new Uint8Array(r)};e.exports=n}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}(()=>{"use strict";var e=n(995);function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function s(n,r,o,a){var s=r&&r.prototype instanceof l?r:l,u=Object.create(s.prototype);return i(u,"_invoke",function(n,r,o){var i,a,s,l=0,u=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,a=0,s=e,p.n=n,c}};function f(n,r){for(a=n,s=r,t=0;!d&&l&&!o&&t<u.length;t++){var o,i=u[t],f=p.p,m=i[2];n>3?(o=m===r)&&(s=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(a=0,p.v=r,p.n=i[1]):f<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,p.n=m,a=0))}if(o||n>1)return c;throw d=!0,r}return function(o,u,m){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,m),a=u,s=m;(t=a<2?e:s)||!d;){i||(a?a<3?(a>1&&(p.n=-1),f(a,s)):p.n=s:p.v=s);try{if(l=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(d=p.n<0)?s:n.call(r,p))!==c)break}catch(t){i=e,a=1,s=t}finally{l=1}}return{value:t,done:d}}}(n,o,a),!0),u}var c={};function l(){}function u(){}function d(){}t=Object.getPrototypeOf;var p=[][r]?t(t([][r]())):(i(t={},r,function(){return this}),t),f=d.prototype=l.prototype=Object.create(p);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,i(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=d,i(f,"constructor",d),i(d,"constructor",u),u.displayName="GeneratorFunction",i(d,a,"GeneratorFunction"),i(f),i(f,a,"Generator"),i(f,r,function(){return this}),i(f,"toString",function(){return"[object Generator]"}),(o=function(){return{w:s,m}})()}function i(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}i=function(e,t,n,r){function a(t,n){i(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},i(e,t,n,r)}function a(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,c,"next",e)}function c(e){a(i,r,o,s,c,"throw",e)}s(void 0)})}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function p(e){var t=function(e){if("object"!=u(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}new(function(){return t=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.worker=null,this.isInitialized=!1},n=[{key:"initialize",value:(l=s(o().m(function t(){var n;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!this.isInitialized){t.n=1;break}return t.a(2);case 1:return t.p=1,t.n=2,(0,e.createWorker)("eng");case 2:this.worker=t.v,this.isInitialized=!0,console.log("OCR Service initialized successfully"),t.n=4;break;case 3:throw t.p=3,n=t.v,console.error("Failed to initialize OCR service:",n),n;case 4:return t.a(2)}},t,this,[[1,3]])})),function(){return l.apply(this,arguments)})},{key:"processImage",value:(a=s(o().m(function e(t){var n,r,i;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this.isInitialized){e.n=1;break}return e.n=1,this.initialize();case 1:return e.p=1,e.n=2,this.worker.recognize(t);case 2:return n=e.v,r=n.data.text,e.a(2,this.parseMenuText(r));case 3:throw e.p=3,i=e.v,console.error("OCR processing failed:",i),i;case 4:return e.a(2)}},e,this,[[1,3]])})),function(e){return a.apply(this,arguments)})},{key:"parseMenuText",value:function(e){var t,n={redWine:null,whiteWine:null,starters:[],entrees:[],cocktail:null,specials:[]},o=null,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}(e.split("\n").filter(function(e){return e.trim()}));try{for(i.s();!(t=i.n()).done;){var a=t.value.trim();a&&(a.toLowerCase().includes("red wine")||a.toLowerCase().includes("pinot noir")?o="redWine":a.toLowerCase().includes("white wine")||a.toLowerCase().includes("chardonnay")?o="whiteWine":a.toLowerCase().includes("starter")||a.toLowerCase().includes("appetizer")?o="starters":a.toLowerCase().includes("entree")||a.toLowerCase().includes("main")?o="entrees":a.toLowerCase().includes("cocktail")||a.toLowerCase().includes("drink")?o="cocktail":(a.toLowerCase().includes("special")||a.toLowerCase().includes("featured"))&&(o="specials"),"redWine"===o&&!n.redWine&&this.isWineLine(a)?n.redWine=this.parseWineLine(a):"whiteWine"===o&&!n.whiteWine&&this.isWineLine(a)&&(n.whiteWine=this.parseWineLine(a)),"starters"===o&&this.isFoodLine(a)?n.starters.push(a):"entrees"===o&&this.isFoodLine(a)&&n.entrees.push(a),"cocktail"===o&&this.isCocktailLine(a)&&(n.cocktail=this.parseCocktailLine(a)),"specials"===o&&this.isSpecialLine(a)&&n.specials.push(a))}}catch(e){i.e(e)}finally{i.f()}return n}},{key:"isWineLine",value:function(e){return["pinot noir","merlot","cabernet","chardonnay","sauvignon","riesling"].some(function(t){return e.toLowerCase().includes(t)})}},{key:"parseWineLine",value:function(e){var t=e.match(/\$(\d+)/),n=e.match(/(\d{4})/),r=t?"$".concat(t[1]):"$0",o=n?n[1]:"",i=e;return o&&(i=e.split(o)[0].trim()),{name:i,region:e.includes(",")?e.split(",").slice(1).join(",").trim():"",year:o,price:r}}},{key:"isFoodLine",value:function(e){return e.length>5&&!e.match(/^\d+$/)&&!e.match(/^\$\d+/)}},{key:"isCocktailLine",value:function(e){return["cocktail","manhattan","martini","margarita","old fashioned"].some(function(t){return e.toLowerCase().includes(t)})}},{key:"parseCocktailLine",value:function(e){var t=e.match(/\$(\d+)/),n=t?"$".concat(t[1]):"$0";return{name:e.split("$")[0].trim(),price:n,description:e.includes("with")?e.split("with")[1].trim():""}}},{key:"isSpecialLine",value:function(e){return e.toLowerCase().includes("special")||e.toLowerCase().includes("featured")}},{key:"terminate",value:(i=s(o().m(function e(){return o().w(function(e){for(;;)switch(e.n){case 0:if(!this.worker){e.n=2;break}return e.n=1,this.worker.terminate();case 1:this.worker=null,this.isInitialized=!1;case 2:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})}],n&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,i,a,l}());var f=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)},t=[{key:"authenticate",value:function(e,t){return{"user@table1837.com":"password123","admin@table1837.com":"admin123","staff@table1837.com":"staff123"}[e]===t}},{key:"isAuthenticated",value:function(){return"true"===sessionStorage.getItem("authenticated")}},{key:"setAuthenticated",value:function(e){sessionStorage.setItem("authenticated",e.toString())}},{key:"logout",value:function(){sessionStorage.removeItem("authenticated")}}],null&&d(e.prototype,null),t&&d(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function h(e){var t=function(e){if("object"!=m(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=m(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==m(t)?t:t+""}var v=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.state=t.state,this.elements=t.elements},(t=[{key:"initialize",value:function(){this.updateTodaySpecial(),this.load86Items()}},{key:"updateTodaySpecial",value:function(){var e={0:{title:"Sunday Steak Night",time:"4p – 8p",description:"Garden Salad • Steak Frites • Glass of House Wine",price:"$40"},3:{title:"Date Night",time:"4p – 8p",description:"2-Dine for $89 • 3-Course Menu • $5 Draft Beer • $10 House Wine",price:"$89"},4:{title:"1837 Bar & Burger Night",time:"4p – 8p",description:"$12.50 Signature Burger OR Crispy Chicken • $5 Draft Beer • $10 House Wine",price:"$12.50"},5:{title:"Late Night Happy Hour",time:"8p – 11p",description:"$5 Draft Beer • $10 House Wines • $10 House Winner Cocktails • $2 Off Curated Cocktails",price:"Various"},6:{title:"Late Night Happy Hour",time:"8p – 11p",description:"$5 Draft Beer • $10 House Wines • $10 House Winner Cocktails • $2 Off Curated Cocktails",price:"Various"}}[(new Date).getDay()],t=document.getElementById("todaySpecial");t&&(t.innerHTML=e?'\n                <div class="flex justify-between items-start mb-3">\n                    <h4 class="text-xl font-bold">'.concat(e.title,'</h4>\n                    <span class="text-lg font-bold text-yellow-400">').concat(e.price,'</span>\n                </div>\n                <p class="text-sm text-gray-400 mb-2">').concat(e.time,'</p>\n                <p class="text-gray-300">').concat(e.description,"</p>\n            "):'\n                <p class="text-gray-300">No special offerings today. Check back tomorrow!</p>\n            ')}},{key:"load86Items",value:function(){var e=document.getElementById("alert86List");e&&(0!==this.state.items86.length?e.innerHTML=this.state.items86.map(function(e){return'\n            <div class="mb-2">\n                <span class="font-semibold text-red-300">'.concat(e.name,'</span>\n                <span class="text-sm text-gray-400 ml-2">- ').concat(e.timestamp,"</span>\n            </div>\n        ")}).join(""):e.innerHTML='<p class="text-gray-300">No items currently 86\'d</p>')}}])&&y(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}function w(e){var t=function(e){if("object"!=g(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==g(t)?t:t+""}var k=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.state=t.state,this.elements=t.elements},t=[{key:"initialize",value:function(){var e=this;this.display86Items(),this.setupEventListeners(),window.add86Item=function(){return e.add86Item()},window.remove86Item=function(t){return e.remove86Item(t)}}},{key:"setupEventListeners",value:function(){var e=this,t=document.getElementById("item86Input");t&&t.addEventListener("keypress",function(t){"Enter"===t.key&&(t.preventDefault(),e.add86Item())})}},{key:"add86Item",value:function(){var e=document.getElementById("item86Input"),t=e.value.trim();t&&(this.state.items86.push({name:t,timestamp:(new Date).toLocaleString(),addedBy:"Current User"}),localStorage.setItem("items86",JSON.stringify(this.state.items86)),e.value="",this.display86Items(),this.load86Items())}},{key:"remove86Item",value:function(e){this.state.items86.splice(e,1),localStorage.setItem("items86",JSON.stringify(this.state.items86)),this.display86Items(),this.load86Items()}},{key:"display86Items",value:function(){var e=document.getElementById("current86Items");e&&(0!==this.state.items86.length?e.innerHTML=this.state.items86.map(function(e,t){return'\n            <div class="flex justify-between items-center p-3 bg-red-900 bg-opacity-30 border border-red-600 rounded-lg">\n                <div>\n                    <p class="font-semibold">'.concat(e.name,'</p>\n                    <p class="text-sm text-gray-400">Added: ').concat(e.timestamp,'</p>\n                </div>\n                <button onclick="remove86Item(').concat(t,')" class="text-red-400 hover:text-red-300">\n                    <i class="fas fa-times"></i>\n                </button>\n            </div>\n        ')}).join(""):e.innerHTML='<p class="text-gray-400">No items currently 86\'d</p>')}},{key:"load86Items",value:function(){var e=document.getElementById("alert86List");e&&(0!==this.state.items86.length?e.innerHTML=this.state.items86.map(function(e){return'\n            <div class="mb-2">\n                <span class="font-semibold text-red-300">'.concat(e.name,'</span>\n                <span class="text-sm text-gray-400 ml-2">- ').concat(e.timestamp,"</span>\n            </div>\n        ")}).join(""):e.innerHTML='<p class="text-gray-300">No items currently 86\'d</p>')}},{key:"cleanup",value:function(){delete window.add86Item,delete window.remove86Item}}],t&&b(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L(r.key),r)}}function L(e){var t=function(e){if("object"!=S(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==S(t)?t:t+""}var C=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.state=t.state,this.elements=t.elements},t=[{key:"initialize",value:function(){this.setupMessageForm(),this.setupOCRFunctionality()}},{key:"setupMessageForm",value:function(){var e=this,t=document.getElementById("adminMessageForm");t&&t.addEventListener("submit",function(t){t.preventDefault(),e.handleMessageSubmit(t)})}},{key:"setupOCRFunctionality",value:function(){var e=this,t=document.getElementById("ocrFileUpload"),n=(document.getElementById("ocrPreviewContainer"),document.getElementById("ocrResultContainer"),document.getElementById("ocrPreview"),document.getElementById("processOcrButton")),r=document.getElementById("applyOcrButton");t&&t.addEventListener("change",function(t){e.handleFileUpload(t)}),n&&n.addEventListener("click",function(){e.processOCR()}),r&&r.addEventListener("click",function(){e.applyOCRResults()})}},{key:"handleFileUpload",value:function(e){var t=e.target.files[0],n=document.getElementById("ocrPreview"),r=document.getElementById("ocrPreviewContainer"),o=document.getElementById("ocrResultContainer");if(t&&n&&r&&o){var i=new FileReader;i.onload=function(e){n.src=e.target.result,r.classList.remove("hidden"),o.classList.add("hidden")},i.readAsDataURL(t)}}},{key:"processOCR",value:function(){var e=document.getElementById("ocrPreview"),t=document.getElementById("ocrResultContainer"),n=document.getElementById("ocrResult");e&&t&&n&&this.simulateOCR(e.src)}},{key:"simulateOCR",value:function(e){var t=this,n=document.getElementById("ocrResult"),r=document.getElementById("ocrResultContainer");n&&r&&(n.innerHTML='<p class="text-center"><i class="fas fa-spinner fa-spin mr-2"></i> Processing image...</p>',r.classList.remove("hidden"),setTimeout(function(){t.state.ocrData={redWine:{name:"INSIGNIA, JOSEPH PHELPS ESTATE",region:"Napa Valley, CA, 2014",price:"$305",code:"R051"},whiteWine:{name:"RAMEY, RUSSIAN RIVER VALLEY",region:"California, 2021",price:"$120",code:"C016"},starters:["House-Made Charcuterie Board with Artisanal Cheeses","Seared Sea Scallops with Citrus Beurre Blanc"],entrees:["Pan-Seared Duck Breast with Cherry Reduction","Wild Mushroom Risotto with Black Truffle"],cocktail:{name:"Barrel-Aged Manhattan",description:"Aged bourbon, sweet vermouth, bitters",price:"$14"}},t.displayOCRResults()},1500))}},{key:"displayOCRResults",value:function(){var e=document.getElementById("ocrResult");if(e){var t='\n            <h4 class="font-bold text-yellow-400 mb-2">Featured Wines:</h4>\n            <p><span class="font-semibold">Red:</span> '.concat(this.state.ocrData.redWine.name," - ").concat(this.state.ocrData.redWine.price," (").concat(this.state.ocrData.redWine.code,')</p>\n            <p><span class="font-semibold">White:</span> ').concat(this.state.ocrData.whiteWine.name," - ").concat(this.state.ocrData.whiteWine.price," (").concat(this.state.ocrData.whiteWine.code,')</p>\n            \n            <h4 class="font-bold text-yellow-400 mt-4 mb-2">Starters:</h4>\n            <ul class="list-disc pl-4 mb-2">\n                ').concat(this.state.ocrData.starters.map(function(e){return"<li>".concat(e,"</li>")}).join(""),'\n            </ul>\n            \n            <h4 class="font-bold text-yellow-400 mt-4 mb-2">Entrees:</h4>\n            <ul class="list-disc pl-4 mb-2">\n                ').concat(this.state.ocrData.entrees.map(function(e){return"<li>".concat(e,"</li>")}).join(""),'\n            </ul>\n            \n            <h4 class="font-bold text-yellow-400 mt-4 mb-2">Featured Cocktail:</h4>\n            <p>').concat(this.state.ocrData.cocktail.name," - ").concat(this.state.ocrData.cocktail.price,'</p>\n            <p class="text-sm text-gray-400">').concat(this.state.ocrData.cocktail.description,"</p>\n        ");e.innerHTML=t}}},{key:"applyOCRResults",value:function(){var e=document.querySelectorAll(".featured-wine");if(this.state.ocrData.redWine&&e[0]){var t=e[0],n=t.querySelector("p:nth-child(2)"),r=t.querySelector("p:nth-child(3)"),o=t.querySelector("p:nth-child(4)"),i=t.querySelector("p:nth-child(5)");n&&(n.textContent=this.state.ocrData.redWine.name),r&&(r.textContent=this.state.ocrData.redWine.region),o&&(o.textContent=this.state.ocrData.redWine.price),i&&(i.textContent="(".concat(this.state.ocrData.redWine.code,")"))}if(this.state.ocrData.whiteWine&&e[1]){var a=e[1],s=a.querySelector("p:nth-child(2)"),c=a.querySelector("p:nth-child(3)"),l=a.querySelector("p:nth-child(4)"),u=a.querySelector("p:nth-child(5)");s&&(s.textContent=this.state.ocrData.whiteWine.name),c&&(c.textContent=this.state.ocrData.whiteWine.region),l&&(l.textContent=this.state.ocrData.whiteWine.price),u&&(u.textContent="(".concat(this.state.ocrData.whiteWine.code,")"))}if(this.state.ocrData.starters&&this.state.ocrData.starters.length>=2){var d=document.querySelectorAll(".food-special-card .grid div p");d[0]&&(d[0].textContent=this.state.ocrData.starters[0]),d[1]&&(d[1].textContent=this.state.ocrData.starters[1]||"")}if(this.state.ocrData.entrees&&this.state.ocrData.entrees.length>0){var p=document.querySelectorAll(".food-special-card .grid div p");p[2]&&(p[2].textContent=this.state.ocrData.entrees[0])}var f=document.getElementById("todaySpecial");this.state.ocrData.cocktail&&f&&f.textContent.includes("No special offerings today")&&(f.innerHTML='\n                <div class="flex justify-between items-start mb-3">\n                    <h4 class="text-xl font-bold">'.concat(this.state.ocrData.cocktail.name,'</h4>\n                    <span class="text-lg font-bold text-yellow-400">').concat(this.state.ocrData.cocktail.price,'</span>\n                </div>\n                <p class="text-gray-300">').concat(this.state.ocrData.cocktail.description,"</p>\n            ")),alert("Dashboard updated successfully with OCR data!");var m=document.getElementById("ocrFileUpload"),y=document.getElementById("ocrPreviewContainer"),h=document.getElementById("ocrResultContainer");m&&(m.value=""),y&&y.classList.add("hidden"),h&&h.classList.add("hidden");var v=document.querySelector('[data-tab="dashboard"]');v&&v.click()}},{key:"handleMessageSubmit",value:function(e){var t=document.getElementById("senderName").value,n=document.getElementById("messageSubject").value,r=document.getElementById("messageBody").value,o="mailto:info@table1837.com?subject=".concat(encodeURIComponent(n),"&body=").concat(encodeURIComponent("From: ".concat(t,"\n\n").concat(r)));window.location.href=o,e.target.reset(),alert("Email client opened. Please send the message from your email application.")}},{key:"cleanup",value:function(){}}],t&&E(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function O(e){var t=function(e){if("object"!=I(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==I(t)?t:t+""}var j=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.state=t.state,this.elements=t.elements},(t=[{key:"initialize",value:function(){this.setupEventListeners()}},{key:"setupEventListeners",value:function(){var e=this,t=document.getElementById("wineSearch"),n=document.getElementById("wineFilter");t&&t.addEventListener("input",function(){return e.filterWines()}),n&&n.addEventListener("change",function(){return e.filterWines()})}},{key:"filterWines",value:function(){var e=document.getElementById("wineSearch"),t=document.getElementById("wineFilter");if(e&&t){var n=e.value.toLowerCase(),r=t.value;document.querySelectorAll(".wine-category").forEach(function(e){var t=e.classList.contains("red-wine")?"red":e.classList.contains("white-wine")?"white":e.classList.contains("sparkling-wine")?"sparkling":"",o=!0;r&&r!==t&&(o=!1),n&&o&&(o=e.textContent.toLowerCase().includes(n)),e.style.display=o?"block":"none"})}}}])&&x(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,D(r.key),r)}}function D(e){var t=function(e){if("object"!=B(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==B(t)?t:t+""}var T=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.app=t,this.state=t.state,this.elements=t.elements,this.inventory={vodka:["Zyr Vodka","360 Double Chocolate Vodka","Western Sun Blueberry Vodka","Absolut","Smirnoff Vanilla","Smirnoff Citrus","Smirnoff Vodka (Regular)","Holla Vodka","Tito's","Gray Goose","Double Cross Vodka","Kettle One","Kettle One Cucumber and Mint"],gin:["Hendrick's Gin","Bar Hill Gin","Whitley Neill Rhubarb and Ginger Gin","Bombay Sapphire Dry Gin","Nolet's Dry Gin","Blue Coat Dry Gin","Tanqueray Dry Gin","Beef Eater Dry Gin","Aviation American Gin"],rum:["Cruzan Blueberry Lemonade Rum","Gosling's Black Rum","Malibu Coconut Rum","Captain Morgan Spiced Rum","Bacardi"],tequila:["21 Seed Cucumber Jalapeno Tequila","Jose Cuervo Silver","Jose Cuervo Gold","Casamigos Mezcal","Casamigos Blanco","Coramino Reposado","Agavales Blood Orange Blanco Tequila"],whiskey:["Knob Creek","Elijah Craig","Angels Envy","Dublin","Sycamore Rye","Maker's Mark","Bullet Rye","Bullet Bourbon","Basil Hayden's Malted Rye","Basil Hayden's Bourbon","Jack Daniels","Jim Bean","Woodford Reserve","Watershed Distillery Straight Bourbon 4-Year","Dubliner","Canadian Club","Seagrams Seven","Seagram's VO","Southern Comfort","Crown Royal Apple","Crown Royal","Jameson","Red Breast Single Pot Still Irish Whiskey 12-Year","Chivas","Highland Park 12-Year","Glenliet 12-Year","Glenfiddich 12-Year","Balvini Doublewood 12-Year","Glenmorangie 12-Year","Macallen 12 Double Cask","Dewars Scotch Whiskey White Label","Johnnie Walker Red","Johnnie Walker Black"],cordials:["Monin Blackberry","Monin Lavender","Monin Caramel","DeKuyper Sour Apple","Peychaud's Bitters","Aromatic Bitters","Angostura Bitters","Dry Vermouth","Sweet Vermouth","Saint Germain","Drambuie","Blue Curacao","DeKuyper Butterscotch","DeKuyper Melon","DeKuyper Razmataz","DeKuyper Watermelon Pucker","Jaquin's Creme de Cacao","Triple Sec","Middle West Spirits Bourbon Cream","Disaronno Amaretto","Screwball","Kahlua","Bailey's","RumChata","Frangelico","Sambuca","Luxardo","Campari","Aperol","Cream to Violet","Contreau","Pama Pomegranate Liqueur"]}},t=[{key:"initialize",value:function(){this.initializeInventory(),this.displayInventory(),this.initializeVoiceRecognition(),this.setupEventListeners()}},{key:"setupEventListeners",value:function(){var e=this;document.querySelectorAll(".category-filter").forEach(function(t){t.addEventListener("click",function(t){document.querySelectorAll(".category-filter").forEach(function(e){e.classList.remove("active","bg-dark-green"),e.classList.add("bg-gray-700")}),t.target.classList.add("active","bg-dark-green"),t.target.classList.remove("bg-gray-700"),e.filterInventory(t.target.dataset.category)})});var t=document.getElementById("updateInventoryBtn");t&&t.addEventListener("click",function(){e.saveInventory(),alert("Inventory updated successfully!")})}},{key:"initializeInventory",value:function(){var e=this;Object.keys(this.inventory).forEach(function(t){e.inventory[t].forEach(function(n){e.state.inventoryData[n]||(e.state.inventoryData[n]={bottles:0,ounces:0,category:t})})})}},{key:"displayInventory",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",n=document.getElementById("inventoryGrid");if(n){var r=document.createDocumentFragment();Object.keys(this.inventory).forEach(function(n){if("all"===t||t===n){var o=document.createElement("div");o.className="col-span-full",o.innerHTML='<h3 class="text-2xl font-bold mb-4 text-center capitalize text-yellow-400">'.concat(n,"</h3>"),r.appendChild(o),e.inventory[n].forEach(function(t){var o=e.state.inventoryData[t]||{bottles:0,ounces:0,category:n},i=document.createElement("div");i.className="inventory-item",i.innerHTML='\n                    <h4 class="font-semibold mb-3">'.concat(t,'</h4>\n                    <div class="grid grid-cols-2 gap-4">\n                        <div>\n                            <label class="block text-sm text-gray-300 mb-1">Bottles</label>\n                            <input type="number" \n                                   class="w-full px-3 py-2 bg-black bg-opacity-50 border border-gray-600 rounded focus:outline-none focus:border-green-600 text-white" \n                                   value="').concat(o.bottles,'" \n                                   data-item="').concat(t,'" \n                                   data-type="bottles"\n                                   min="0">\n                        </div>\n                        <div>\n                            <label class="block text-sm text-gray-300 mb-1">Ounces</label>\n                            <input type="number" \n                                   class="w-full px-3 py-2 bg-black bg-opacity-50 border border-gray-600 rounded focus:outline-none focus:border-green-600 text-white" \n                                   value="').concat(o.ounces,'" \n                                   data-item="').concat(t,'" \n                                   data-type="ounces"\n                                   min="0"\n                                   step="0.1">\n                        </div>\n                    </div>\n                '),i.querySelectorAll("input").forEach(function(t){t.addEventListener("change",function(t){var r=t.target.dataset.item,o=t.target.dataset.type,i=parseFloat(t.target.value)||0;e.state.inventoryData[r]||(e.state.inventoryData[r]={bottles:0,ounces:0,category:n}),e.state.inventoryData[r][o]=i})}),r.appendChild(i)})}}),n.innerHTML="",n.appendChild(r)}}},{key:"filterInventory",value:function(e){this.displayInventory(e)}},{key:"saveInventory",value:function(){localStorage.setItem("inventoryData",JSON.stringify(this.state.inventoryData))}},{key:"initializeVoiceRecognition",value:function(){var e=this;if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){var t=window.SpeechRecognition||window.webkitSpeechRecognition;this.state.recognition=new t,this.state.recognition.continuous=!0,this.state.recognition.interimResults=!0,this.state.recognition.lang="en-US";var n=document.getElementById("voiceButton");n&&n.addEventListener("click",function(){return e.toggleVoiceRecognition()}),this.state.recognition.onresult=function(t){return e.handleVoiceResult(t)},this.state.recognition.onerror=function(t){return e.handleVoiceError(t)},this.state.recognition.onend=function(){return e.handleVoiceEnd()}}else{var r=document.getElementById("voiceButton");r&&(r.disabled=!0,r.innerHTML='<i class="fas fa-microphone-slash"></i> Voice Not Supported')}}},{key:"toggleVoiceRecognition",value:function(){var e=document.getElementById("voiceButton"),t=document.getElementById("voiceStatus");this.state.isListening?(this.state.recognition.stop(),this.state.isListening=!1,t.classList.add("hidden"),e.innerHTML='<i class="fas fa-microphone"></i> Voice Update',e.classList.remove("bg-red-600")):(this.state.recognition.start(),this.state.isListening=!0,t.classList.remove("hidden"),e.innerHTML='<i class="fas fa-stop"></i> Stop Listening',e.classList.add("bg-red-600"))}},{key:"handleVoiceResult",value:function(e){var t=e.results[e.results.length-1],n=t[0].transcript.trim(),r=document.getElementById("voiceText");r&&(r.textContent=n),t.isFinal&&this.processVoiceInput(n)}},{key:"handleVoiceError",value:function(e){console.error("Speech recognition error:",e.error),this.state.isListening=!1;var t=document.getElementById("voiceStatus"),n=document.getElementById("voiceButton");t&&t.classList.add("hidden"),n&&(n.innerHTML='<i class="fas fa-microphone"></i> Voice Update',n.classList.remove("bg-red-600")),alert("Voice recognition error: ".concat(e.error,". Please try again."))}},{key:"handleVoiceEnd",value:function(){this.state.isListening&&this.state.recognition.start()}},{key:"processVoiceInput",value:function(e){console.log("Processing voice input:",e);try{for(var t=e.toLowerCase().split(" "),n=0,r=0,o=0;o<t.length;o++){var i=t[o],a=parseFloat(i);if(!isNaN(a)){var s=t[o+1]||"";s.includes("bottle")||"bottles"===s||"bottle"===s?n=a:(s.includes("ounce")||s.includes("oz")||"ounces"===s)&&(r=a)}}var c=0,l=null;Object.keys(this.state.inventoryData).forEach(function(t){var n=t.toLowerCase().split(" "),r=0,o=0;n.forEach(function(t){t.length>2&&(o++,e.toLowerCase().includes(t)&&r++)});var i=o>0?r/o:0;i>c&&i>.4&&(c=i,l=t)}),l&&(n>0||r>0)?(n>0&&(this.state.inventoryData[l].bottles=n),r>0&&(this.state.inventoryData[l].ounces=r),this.updateInventoryDisplay(l,n,r),this.showToast("Updated ".concat(l,": ").concat(n>0?"".concat(n," bottles"):""," ").concat(r>0?"".concat(r," ounces"):""))):l?this.showToast("Recognized ".concat(l,", but no quantity detected. Please specify bottles or ounces.")):n>0||r>0?this.showToast("Quantity detected (".concat(n>0?"".concat(n," bottles"):""," ").concat(r>0?"".concat(r," ounces"):"","), but could not match a specific item. Please try again.")):this.showToast("Could not recognize inventory update. Please try again with item name and quantity.")}catch(e){console.error("Error processing voice input:",e),this.showToast("Error processing voice input. Please try again.")}}},{key:"updateInventoryDisplay",value:function(e,t,n){document.querySelectorAll('input[data-item="'.concat(e,'"]')).forEach(function(e){"bottles"===e.dataset.type&&t>0?e.value=t:"ounces"===e.dataset.type&&n>0&&(e.value=n)})}},{key:"showToast",value:function(e){var t=document.createElement("div");t.className="fixed bottom-4 right-4 bg-dark-green text-white py-2 px-4 rounded-lg shadow-lg z-50 animate-fade-in-up",t.textContent=e,document.body.appendChild(t),setTimeout(function(){t.classList.add("animate-fade-out"),setTimeout(function(){document.body.contains(t)&&document.body.removeChild(t)},500)},3e3)}},{key:"cleanup",value:function(){this.state.recognition&&this.state.recognition.stop()}}],t&&R(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){M(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function M(e,t,n){return(t=F(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,F(r.key),r)}}function F(e){var t=function(e){if("object"!=P(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==P(t)?t:t+""}var _=function(){return e=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.state={items86:JSON.parse(localStorage.getItem("items86")||"[]"),inventoryData:JSON.parse(localStorage.getItem("inventoryData")||"{}"),ocrData:{redWine:null,whiteWine:null,starters:[],entrees:[],cocktail:null},recognition:null,isListening:!1},this.elements={},this.modules={},window.logout=function(){return t.logout()}},t=[{key:"init",value:function(){this.cacheElements(),this.initializeModules(),this.setupEventListeners(),this.setupNavigation()}},{key:"cacheElements",value:function(){var e=this;["alert86List","current86Items","todaySpecial","inventoryGrid","voiceStatus","voiceText","ocrPreview","ocrResult"].forEach(function(t){e.elements[t]=document.getElementById(t)})}},{key:"initializeModules",value:function(){this.modules.dashboard=new v(this),this.modules.staff=new k(this),this.modules.admin=new C(this),this.modules.wine=new j(this),this.modules.inventory=new T(this),Object.values(this.modules).forEach(function(e){e.initialize&&e.initialize()})}},{key:"setupEventListeners",value:function(){var e=this,t=document.getElementById("loginForm");t&&t.addEventListener("submit",function(t){t.preventDefault(),e.handleLogin()})}},{key:"setupNavigation",value:function(){var e=this;document.querySelectorAll(".nav-tab").forEach(function(t){t.addEventListener("click",function(n){t.dataset.tab&&(e.showTab(t.dataset.tab),document.querySelectorAll(".nav-tab").forEach(function(e){return e.classList.remove("active")}),t.classList.add("active"))})})}},{key:"handleLogin",value:function(){var e=document.getElementById("username").value.toLowerCase(),t=document.getElementById("password").value;f.authenticate(e,t)?this.showMainApp():alert("Invalid credentials. Please try again.")}},{key:"showMainApp",value:function(){document.getElementById("loginPage").classList.add("hidden"),document.getElementById("mainApp").classList.remove("hidden"),this.init()}},{key:"showTab",value:function(e){document.querySelectorAll(".tab-content").forEach(function(e){e.classList.add("hidden")});var t=document.getElementById(e+"-content");t&&t.classList.remove("hidden")}},{key:"logout",value:function(){document.getElementById("mainApp").classList.add("hidden"),document.getElementById("loginPage").classList.remove("hidden"),document.getElementById("username").value="",document.getElementById("password").value="",Object.values(this.modules).forEach(function(e){e.cleanup&&e.cleanup()})}},{key:"updateState",value:function(e){this.state=N(N({},this.state),e),this.saveState()}},{key:"saveState",value:function(){localStorage.setItem("items86",JSON.stringify(this.state.items86)),localStorage.setItem("inventoryData",JSON.stringify(this.state.inventoryData))}},{key:"showToast",value:function(e){var t=document.createElement("div");t.className="fixed bottom-4 right-4 bg-dark-green text-white py-2 px-4 rounded-lg shadow-lg z-50 animate-fade-in-up",t.textContent=e,document.body.appendChild(t),setTimeout(function(){t.classList.add("animate-fade-out"),setTimeout(function(){document.body.contains(t)&&document.body.removeChild(t)},500)},3e3)}}],t&&W(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();document.addEventListener("DOMContentLoaded",function(){window.app=new _})})()})();
//# sourceMappingURL=bundle.js.map